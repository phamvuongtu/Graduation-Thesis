{"ast":null,"code":"var _jsxFileName = \"/Users/phamtu/Downloads/Code/OCE/oce-frontend/src/components/DownloadButton.js\",\n  _s = $RefreshSig$();\n// src/components/DownloadButton.js\nimport React, { useState } from \"react\";\nimport { Download } from \"./Icon\";\nimport Button from \"./Button\";\nimport ConfirmationModal from \"./ConfirmationModal\"; // Import the new modal component\nimport { toast } from \"react-toastify\"; // Import toast\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DownloadButton = ({\n  code,\n  language\n}) => {\n  _s();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const handleDownload = () => {\n    const blob = new Blob([code], {\n      type: \"text/plain\"\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.style.display = \"none\";\n    a.href = url;\n    a.download = `code.${language.value === \"py\" ? \"py\" : language.value === \"java\" ? \"java\" : language.value === \"c\" ? \"c\" : \"cpp\"}`;\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n\n    // Show toast notification\n    toast.success(\"Download successful\");\n  };\n  const handleOpenModal = () => setIsModalOpen(true);\n  const handleCloseModal = () => setIsModalOpen(false);\n  const handleConfirmDownload = () => {\n    handleDownload();\n    handleCloseModal();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"Download\",\n      icon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }, this),\n      altText: \"Download Action\",\n      textColor: \"text-primary-primary500\",\n      onClick: handleOpenModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      isOpen: isModalOpen,\n      onClose: handleCloseModal,\n      onConfirm: handleConfirmDownload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(DownloadButton, \"mLsII5HRP5G63IA/8vjZ5YHXWr8=\");\n_c = DownloadButton;\nexport default DownloadButton;\nvar _c;\n$RefreshReg$(_c, \"DownloadButton\");","map":{"version":3,"names":["React","useState","Download","Button","ConfirmationModal","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","DownloadButton","code","language","_s","isModalOpen","setIsModalOpen","handleDownload","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","style","display","href","download","value","body","appendChild","click","revokeObjectURL","success","handleOpenModal","handleCloseModal","handleConfirmDownload","children","label","icon","fileName","_jsxFileName","lineNumber","columnNumber","altText","textColor","onClick","isOpen","onClose","onConfirm","_c","$RefreshReg$"],"sources":["/Users/phamtu/Downloads/Code/OCE/oce-frontend/src/components/DownloadButton.js"],"sourcesContent":["// src/components/DownloadButton.js\nimport React, { useState } from \"react\";\nimport { Download } from \"./Icon\";\nimport Button from \"./Button\";\nimport ConfirmationModal from \"./ConfirmationModal\"; // Import the new modal component\nimport { toast } from \"react-toastify\"; // Import toast\n\nconst DownloadButton = ({ code, language }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleDownload = () => {\n    const blob = new Blob([code], { type: \"text/plain\" });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.style.display = \"none\";\n    a.href = url;\n    a.download = `code.${language.value === \"py\" ? \"py\" : language.value === \"java\" ? \"java\" : language.value === \"c\" ? \"c\" : \"cpp\"}`;\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n\n    // Show toast notification\n    toast.success(\"Download successful\");\n  };\n\n  const handleOpenModal = () => setIsModalOpen(true);\n  const handleCloseModal = () => setIsModalOpen(false);\n\n  const handleConfirmDownload = () => {\n    handleDownload();\n    handleCloseModal();\n  };\n\n  return (\n    <>\n      <Button\n        label=\"Download\"\n        icon={<Download />}\n        altText=\"Download Action\"\n        textColor=\"text-primary-primary500\"\n        onClick={handleOpenModal}\n      />\n      <ConfirmationModal\n        isOpen={isModalOpen}\n        onClose={handleCloseModal}\n        onConfirm={handleConfirmDownload}\n      />\n    </>\n  );\n};\n\nexport default DownloadButton;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,QAAQ,QAAQ;AACjC,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,iBAAiB,MAAM,qBAAqB,CAAC,CAAC;AACrD,SAASC,KAAK,QAAQ,gBAAgB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,cAAc,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAMe,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACP,IAAI,CAAC,EAAE;MAAEQ,IAAI,EAAE;IAAa,CAAC,CAAC;IACrD,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;IAC5C,MAAMO,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACrCF,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;IACxBJ,CAAC,CAACK,IAAI,GAAGT,GAAG;IACZI,CAAC,CAACM,QAAQ,GAAI,QAAOlB,QAAQ,CAACmB,KAAK,KAAK,IAAI,GAAG,IAAI,GAAGnB,QAAQ,CAACmB,KAAK,KAAK,MAAM,GAAG,MAAM,GAAGnB,QAAQ,CAACmB,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,KAAM,EAAC;IACjIN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,CAAC,CAAC;IAC5BA,CAAC,CAACU,KAAK,CAAC,CAAC;IACTb,MAAM,CAACC,GAAG,CAACa,eAAe,CAACf,GAAG,CAAC;;IAE/B;IACAf,KAAK,CAAC+B,OAAO,CAAC,qBAAqB,CAAC;EACtC,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAMtB,cAAc,CAAC,IAAI,CAAC;EAClD,MAAMuB,gBAAgB,GAAGA,CAAA,KAAMvB,cAAc,CAAC,KAAK,CAAC;EAEpD,MAAMwB,qBAAqB,GAAGA,CAAA,KAAM;IAClCvB,cAAc,CAAC,CAAC;IAChBsB,gBAAgB,CAAC,CAAC;EACpB,CAAC;EAED,oBACE/B,OAAA,CAAAE,SAAA;IAAA+B,QAAA,gBACEjC,OAAA,CAACJ,MAAM;MACLsC,KAAK,EAAC,UAAU;MAChBC,IAAI,eAAEnC,OAAA,CAACL,QAAQ;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MACnBC,OAAO,EAAC,iBAAiB;MACzBC,SAAS,EAAC,yBAAyB;MACnCC,OAAO,EAAEZ;IAAgB;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eACFvC,OAAA,CAACH,iBAAiB;MAChB8C,MAAM,EAAEpC,WAAY;MACpBqC,OAAO,EAAEb,gBAAiB;MAC1Bc,SAAS,EAAEb;IAAsB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAACjC,EAAA,CA1CIH,cAAc;AAAA2C,EAAA,GAAd3C,cAAc;AA4CpB,eAAeA,cAAc;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}