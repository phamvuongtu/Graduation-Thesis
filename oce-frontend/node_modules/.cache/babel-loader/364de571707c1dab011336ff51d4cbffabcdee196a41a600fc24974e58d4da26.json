{"ast":null,"code":"\"use strict\";\n\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n  constructor(client) {\n    this.client = client;\n    this.middleware = client.middleware;\n  }\n  prepareCallHierarchy(document, position, token) {\n    const client = this.client;\n    const middleware = this.middleware;\n    const prepareCallHierarchy = (document, position, token) => {\n      const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n      return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then(result => {\n        if (token.isCancellationRequested) {\n          return null;\n        }\n        return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n      }, error => {\n        return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n      });\n    };\n    return middleware.prepareCallHierarchy ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy) : prepareCallHierarchy(document, position, token);\n  }\n  provideCallHierarchyIncomingCalls(item, token) {\n    const client = this.client;\n    const middleware = this.middleware;\n    const provideCallHierarchyIncomingCalls = (item, token) => {\n      const params = {\n        item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n      };\n      return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then(result => {\n        if (token.isCancellationRequested) {\n          return null;\n        }\n        return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n      }, error => {\n        return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n      });\n    };\n    return middleware.provideCallHierarchyIncomingCalls ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls) : provideCallHierarchyIncomingCalls(item, token);\n  }\n  provideCallHierarchyOutgoingCalls(item, token) {\n    const client = this.client;\n    const middleware = this.middleware;\n    const provideCallHierarchyOutgoingCalls = (item, token) => {\n      const params = {\n        item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n      };\n      return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then(result => {\n        if (token.isCancellationRequested) {\n          return null;\n        }\n        return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n      }, error => {\n        return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n      });\n    };\n    return middleware.provideCallHierarchyOutgoingCalls ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls) : provideCallHierarchyOutgoingCalls(item, token);\n  }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n  constructor(client) {\n    super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n  }\n  fillClientCapabilities(cap) {\n    const capabilities = cap;\n    const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n    capability.dynamicRegistration = true;\n  }\n  initialize(capabilities, documentSelector) {\n    const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n    if (!id || !options) {\n      return;\n    }\n    this.register({\n      id: id,\n      registerOptions: options\n    });\n  }\n  registerLanguageProvider(options) {\n    const client = this._client;\n    const provider = new CallHierarchyProvider(client);\n    return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n  }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;","map":{"version":3,"names":["Object","defineProperty","exports","value","CallHierarchyFeature","vscode_1","require","vscode_languageserver_protocol_1","features_1","CallHierarchyProvider","constructor","client","middleware","prepareCallHierarchy","document","position","token","params","code2ProtocolConverter","asTextDocumentPositionParams","sendRequest","CallHierarchyPrepareRequest","type","then","result","isCancellationRequested","protocol2CodeConverter","asCallHierarchyItems","error","handleFailedRequest","provideCallHierarchyIncomingCalls","item","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentLanguageFeature","fillClientCapabilities","cap","capabilities","capability","ensure","dynamicRegistration","initialize","documentSelector","id","options","getRegistration","callHierarchyProvider","register","registerOptions","registerLanguageProvider","_client","provider","languages","registerCallHierarchyProvider","asDocumentSelector"],"sources":["/Users/phamtu/Downloads/Code/OCE/oce-frontend/node_modules/vscode-languageclient/lib/common/callHierarchy.js"],"sourcesContent":["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,oBAAoB,GAAG,KAAK,CAAC;AACrC,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMC,gCAAgC,GAAGD,OAAO,CAAC,gCAAgC,CAAC;AAClF,MAAME,UAAU,GAAGF,OAAO,CAAC,YAAY,CAAC;AACxC,MAAMG,qBAAqB,CAAC;EACxBC,WAAWA,CAACC,MAAM,EAAE;IAChB,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,UAAU,GAAGD,MAAM,CAACC,UAAU;EACvC;EACAC,oBAAoBA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IAC5C,MAAML,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAMC,UAAU,GAAG,IAAI,CAACA,UAAU;IAClC,MAAMC,oBAAoB,GAAGA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,KAAK;MACxD,MAAMC,MAAM,GAAGN,MAAM,CAACO,sBAAsB,CAACC,4BAA4B,CAACL,QAAQ,EAAEC,QAAQ,CAAC;MAC7F,OAAOJ,MAAM,CAACS,WAAW,CAACb,gCAAgC,CAACc,2BAA2B,CAACC,IAAI,EAAEL,MAAM,EAAED,KAAK,CAAC,CAACO,IAAI,CAAEC,MAAM,IAAK;QACzH,IAAIR,KAAK,CAACS,uBAAuB,EAAE;UAC/B,OAAO,IAAI;QACf;QACA,OAAOd,MAAM,CAACe,sBAAsB,CAACC,oBAAoB,CAACH,MAAM,EAAER,KAAK,CAAC;MAC5E,CAAC,EAAGY,KAAK,IAAK;QACV,OAAOjB,MAAM,CAACkB,mBAAmB,CAACtB,gCAAgC,CAACc,2BAA2B,CAACC,IAAI,EAAEN,KAAK,EAAEY,KAAK,EAAE,IAAI,CAAC;MAC5H,CAAC,CAAC;IACN,CAAC;IACD,OAAOhB,UAAU,CAACC,oBAAoB,GAChCD,UAAU,CAACC,oBAAoB,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAEH,oBAAoB,CAAC,GAChFA,oBAAoB,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,CAAC;EACzD;EACAc,iCAAiCA,CAACC,IAAI,EAAEf,KAAK,EAAE;IAC3C,MAAML,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAMC,UAAU,GAAG,IAAI,CAACA,UAAU;IAClC,MAAMkB,iCAAiC,GAAGA,CAACC,IAAI,EAAEf,KAAK,KAAK;MACvD,MAAMC,MAAM,GAAG;QACXc,IAAI,EAAEpB,MAAM,CAACO,sBAAsB,CAACc,mBAAmB,CAACD,IAAI;MAChE,CAAC;MACD,OAAOpB,MAAM,CAACS,WAAW,CAACb,gCAAgC,CAAC0B,iCAAiC,CAACX,IAAI,EAAEL,MAAM,EAAED,KAAK,CAAC,CAACO,IAAI,CAAEC,MAAM,IAAK;QAC/H,IAAIR,KAAK,CAACS,uBAAuB,EAAE;UAC/B,OAAO,IAAI;QACf;QACA,OAAOd,MAAM,CAACe,sBAAsB,CAACQ,4BAA4B,CAACV,MAAM,EAAER,KAAK,CAAC;MACpF,CAAC,EAAGY,KAAK,IAAK;QACV,OAAOjB,MAAM,CAACkB,mBAAmB,CAACtB,gCAAgC,CAAC0B,iCAAiC,CAACX,IAAI,EAAEN,KAAK,EAAEY,KAAK,EAAE,IAAI,CAAC;MAClI,CAAC,CAAC;IACN,CAAC;IACD,OAAOhB,UAAU,CAACkB,iCAAiC,GAC7ClB,UAAU,CAACkB,iCAAiC,CAACC,IAAI,EAAEf,KAAK,EAAEc,iCAAiC,CAAC,GAC5FA,iCAAiC,CAACC,IAAI,EAAEf,KAAK,CAAC;EACxD;EACAmB,iCAAiCA,CAACJ,IAAI,EAAEf,KAAK,EAAE;IAC3C,MAAML,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,MAAMC,UAAU,GAAG,IAAI,CAACA,UAAU;IAClC,MAAMuB,iCAAiC,GAAGA,CAACJ,IAAI,EAAEf,KAAK,KAAK;MACvD,MAAMC,MAAM,GAAG;QACXc,IAAI,EAAEpB,MAAM,CAACO,sBAAsB,CAACc,mBAAmB,CAACD,IAAI;MAChE,CAAC;MACD,OAAOpB,MAAM,CAACS,WAAW,CAACb,gCAAgC,CAAC6B,iCAAiC,CAACd,IAAI,EAAEL,MAAM,EAAED,KAAK,CAAC,CAACO,IAAI,CAAEC,MAAM,IAAK;QAC/H,IAAIR,KAAK,CAACS,uBAAuB,EAAE;UAC/B,OAAO,IAAI;QACf;QACA,OAAOd,MAAM,CAACe,sBAAsB,CAACW,4BAA4B,CAACb,MAAM,EAAER,KAAK,CAAC;MACpF,CAAC,EAAGY,KAAK,IAAK;QACV,OAAOjB,MAAM,CAACkB,mBAAmB,CAACtB,gCAAgC,CAAC6B,iCAAiC,CAACd,IAAI,EAAEN,KAAK,EAAEY,KAAK,EAAE,IAAI,CAAC;MAClI,CAAC,CAAC;IACN,CAAC;IACD,OAAOhB,UAAU,CAACuB,iCAAiC,GAC7CvB,UAAU,CAACuB,iCAAiC,CAACJ,IAAI,EAAEf,KAAK,EAAEmB,iCAAiC,CAAC,GAC5FA,iCAAiC,CAACJ,IAAI,EAAEf,KAAK,CAAC;EACxD;AACJ;AACA,MAAMZ,oBAAoB,SAASI,UAAU,CAAC8B,2BAA2B,CAAC;EACtE5B,WAAWA,CAACC,MAAM,EAAE;IAChB,KAAK,CAACA,MAAM,EAAEJ,gCAAgC,CAACc,2BAA2B,CAACC,IAAI,CAAC;EACpF;EACAiB,sBAAsBA,CAACC,GAAG,EAAE;IACxB,MAAMC,YAAY,GAAGD,GAAG;IACxB,MAAME,UAAU,GAAG,CAAC,CAAC,EAAElC,UAAU,CAACmC,MAAM,EAAE,CAAC,CAAC,EAAEnC,UAAU,CAACmC,MAAM,EAAEF,YAAY,EAAE,cAAc,CAAC,EAAE,eAAe,CAAC;IAChHC,UAAU,CAACE,mBAAmB,GAAG,IAAI;EACzC;EACAC,UAAUA,CAACJ,YAAY,EAAEK,gBAAgB,EAAE;IACvC,MAAM,CAACC,EAAE,EAAEC,OAAO,CAAC,GAAG,IAAI,CAACC,eAAe,CAACH,gBAAgB,EAAEL,YAAY,CAACS,qBAAqB,CAAC;IAChG,IAAI,CAACH,EAAE,IAAI,CAACC,OAAO,EAAE;MACjB;IACJ;IACA,IAAI,CAACG,QAAQ,CAAC;MAAEJ,EAAE,EAAEA,EAAE;MAAEK,eAAe,EAAEJ;IAAQ,CAAC,CAAC;EACvD;EACAK,wBAAwBA,CAACL,OAAO,EAAE;IAC9B,MAAMrC,MAAM,GAAG,IAAI,CAAC2C,OAAO;IAC3B,MAAMC,QAAQ,GAAG,IAAI9C,qBAAqB,CAACE,MAAM,CAAC;IAClD,OAAO,CAACN,QAAQ,CAACmD,SAAS,CAACC,6BAA6B,CAAC,IAAI,CAACH,OAAO,CAAC5B,sBAAsB,CAACgC,kBAAkB,CAACV,OAAO,CAACF,gBAAgB,CAAC,EAAES,QAAQ,CAAC,EAAEA,QAAQ,CAAC;EACnK;AACJ;AACArD,OAAO,CAACE,oBAAoB,GAAGA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}